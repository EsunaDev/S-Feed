function sfeed_admin_static_event_listeners(){document.querySelector(".sfeed-user-add")&&document.querySelectorAll(".sfeed-user-add").forEach(e=>{e.addEventListener("click",e=>{document.querySelector(".sfeed-users").innerHTML+='<div class="sfeed-user"><div class="sfeed-user-header"><button class="sfeed-user-remove">âœ•</button></div><form class="sfeed-user-form"><div><label>S-Feed URL:</label><input type="text" name="sfeed-url" class="sfeed-url" value=""> </div> </form><div class="sfeed-user-options"><a class="_button sfeed-user-key" target="_blank" href="https://social-feed.tech/">Retrieve S-Feed URL</a><p>Click "Save All" below to register this new S-Feed URL to the database.</p><p class="sfeed-user-status">Status: New User</p></div></div>',sfeed_admin_dynamic_event_listeners()})}),document.querySelector(".sfeed-users-save")&&document.querySelectorAll(".sfeed-users-save").forEach(e=>{e.addEventListener("click",s=>{e.disabled=!0,e.innerText="Saving..",sfeed_admin_save()})})}function sfeed_admin_dynamic_event_listeners(){document.querySelector(".sfeed-user-remove")&&document.querySelectorAll(".sfeed-user-remove").forEach(e=>{e.addEventListener("click",e=>{e.target.closest(".sfeed-user").remove()})})}function sfeed_admin_collect_data(){let e=[];return document.querySelector(".sfeed-user form")&&document.querySelectorAll(".sfeed-user form").forEach(s=>{let t={url:encodeURIComponent(s.querySelector("input.sfeed-url").value)};e.push(t)}),e}function sfeed_admin_save(){let e=sfeed_admin_collect_data();console.log("Request:",e),fetch(sfeed.ajaxurl,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),credentials:"same-origin",body:"action=sfeed_users_save&data="+JSON.stringify(e)}).then(e=>e.text()).then(e=>{console.log("Response:",e),document.querySelectorAll(".sfeed-users-save").forEach(e=>{e.innerText="Saved!"}),setTimeout(()=>{document.querySelectorAll(".sfeed-users-save").forEach(e=>{e.disabled=!1,e.innerText="Save All",window.location.reload()})},1e3)}).catch((function(e){return console.log(e),e}))}window.addEventListener("DOMContentLoaded",sfeed_admin_static_event_listeners),window.addEventListener("DOMContentLoaded",sfeed_admin_dynamic_event_listeners);